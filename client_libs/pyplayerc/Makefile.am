# only build if Python was found by configure
if WITH_PYTHON
noinst_DATA = pythonbuild
PYTHONINSTALL = pythoninstall
endif

# use distutils to build
pythonbuild: dev_blobfinder.c dev_comms.c dev_fiducial.c dev_gps.c dev_laser.c \
             dev_position.c dev_ptz.c dev_truth.c dev_wifi.c pyplayerc.c pyplayerc.h setup.py
	@PYTHON_INTERP@ $(srcdir)/setup.py build


EXTRA_DIST = dev_blobfinder.c \
						 dev_comms.c \
             dev_fiducial.c \
						 dev_gps.c \
             dev_laser.c \
						 dev_localize.c \
             dev_position.c dev_position3d.c \
             dev_power.c \
             dev_ptz.c \
						 dev_truth.c \
						 dev_wifi.c \
             pyplayerc.c \
             pyplayerc.h \
				     setup.py

clean-local:
	rm -rf build

install-data-hook: $(PYTHONINSTALL)

# use distutils to install
pythoninstall:
	@PYTHON_INTERP@ $(srcdir)/setup.py install --prefix=$(prefix)

# seems that distutils doesn't support 'uninstall', oh well
uninstall-local:
	echo 'Uninstall not implemented (sorry)'

